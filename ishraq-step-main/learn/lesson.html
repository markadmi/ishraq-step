<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ù„Ø¯Ø±Ø³ - Ishraq Step</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 30px 20px;
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
    }
    .back-btn {
      display: inline-flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.2);
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      text-decoration: none;
      margin-bottom: 20px;
      transition: background 0.3s;
      cursor: pointer;
      border: none;
      font-family: 'Cairo', sans-serif;
      font-size: 14px;
      font-weight: 600;
    }
    .back-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    .lesson-wrapper {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      align-items: start;
    }
    .info-section {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    .info-section h1 {
      font-size: 28px;
      color: #333;
      margin-bottom: 15px;
    }
    .info-section .lesson-title {
      font-size: 16px;
      color: #667eea;
      font-weight: 700;
      margin-bottom: 20px;
    }
    .info-section p {
      color: #666;
      line-height: 1.8;
      margin-bottom: 20px;
    }
    .code-example {
      background: #f5f5f5;
      border: 2px solid #667eea;
      border-radius: 10px;
      padding: 15px;
      margin: 20px 0;
      overflow-x: auto;
    }
    .code-example pre {
      margin: 0;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: #333;
    }
    .code-example code {
      background: none;
      padding: 0;
    }
    .editor-section {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    .editor-section h2 {
      font-size: 20px;
      color: #333;
      margin-bottom: 20px;
    }
    .challenge-description {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      border-right: 4px solid #667eea;
      color: #666;
      line-height: 1.6;
    }
    #codeEditor {
      width: 100%;
      height: 300px;
      border: 2px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      background: #2d2d2d;
      color: #f8f8f2;
      resize: vertical;
      margin-bottom: 15px;
    }
    .button-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn {
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      font-family: 'Cairo', sans-serif;
    }
    .btn-run {
      background: #667eea;
      color: white;
      flex: 1;
    }
    .btn-run:hover {
      background: #5568d3;
      transform: translateY(-2px);
    }
    .btn-check {
      background: #4caf50;
      color: white;
      flex: 1;
    }
    .btn-check:hover {
      background: #45a049;
      transform: translateY(-2px);
    }
    .btn-reset {
      background: #f44336;
      color: white;
      flex: 1;
    }
    .btn-reset:hover {
      background: #da190b;
      transform: translateY(-2px);
    }
    .output-section {
      background: #2d2d2d;
      border: 2px solid #667eea;
      border-radius: 8px;
      padding: 15px;
      color: #f8f8f2;
      min-height: 100px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      white-space: pre-wrap;
      word-wrap: break-word;
      max-height: 200px;
      overflow-y: auto;
    }
    .output-section:empty::before {
      content: "Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª Ù‡Ù†Ø§...";
      color: #888;
    }
    .result-message {
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      font-weight: 600;
      text-align: center;
      display: none;
    }
    .result-message.success {
      background: #4caf50;
      color: white;
      display: block;
    }
    .result-message.error {
      background: #f44336;
      color: white;
      display: block;
    }
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      flex-direction: column;
      gap: 20px;
    }
    .loading-overlay.hidden {
      display: none;
    }
    .spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 255, 255, 0.2);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .loading-text {
      color: #fff;
      font-size: 16px;
      text-align: center;
    }
    @media (max-width: 1024px) {
      .lesson-wrapper {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¶ÙŠØ±...</div>
  </div>

  <div class="container">
    <button class="back-btn" onclick="history.back()">â† Ø±Ø¬ÙˆØ¹</button>

    <div class="lesson-wrapper">
      <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
      <div class="info-section">
        <div class="lesson-title" id="lessonTitle">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</div>
        <h1 id="lessonName">Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©</h1>
        <div id="lessonContent"><!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ --></div>
      </div>

      <!-- Ù‚Ø³Ù… Ù…Ø­Ø±Ø± Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ -->
      <div class="editor-section">
        <h2>ğŸ¯ ØªØ­Ø¯ÙŠÙƒ</h2>
        <div class="challenge-description" id="challengeDesc">
          Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
        </div>
        <textarea id="codeEditor" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§..."></textarea>
        <div class="button-group">
          <button class="btn btn-run" onclick="runCode()">â–¶ ØªØ´ØºÙŠÙ„</button>
          <button class="btn btn-check" onclick="checkSolution()">âœ“ ØªØ­Ù‚Ù‚</button>
          <button class="btn btn-reset" onclick="resetCode()">â†» Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
        </div>
        <div id="outputSection" class="output-section"></div>
        <div id="resultMessage" class="result-message"></div>
      </div>
    </div>
  </div>

  <script>
    // Ù…Ù†Ø¹ Ø¸Ù‡ÙˆØ± Ù†Ø§ÙØ°Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„
    document.addEventListener('keydown', (e) => {
      // Ù…Ù†Ø¹ Ctrl+P Ùˆ Cmd+P
      if ((e.ctrlKey || e.metaKey) && (e.key === 'p' || e.key === 'P')) {
        e.preventDefault();
        e.stopPropagation();
        return false;
      }
    }, true);

    // Ù…Ù†Ø¹ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙŠÙ…Ù†Ù‰ Ù…Ù† Ø¥Ø¸Ù‡Ø§Ø± Ø®ÙŠØ§Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
    document.addEventListener('contextmenu', (e) => {
      // ÙŠÙ…ÙƒÙ† Ø­Ø°Ù Ù‡Ø°Ø§ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙŠÙ…Ù†Ù‰
      // e.preventDefault();
    });

    const loadingOverlay = document.getElementById('loadingOverlay');
    const codeEditor = document.getElementById('codeEditor');
    const outputSection = document.getElementById('outputSection');
    const resultMessage = document.getElementById('resultMessage');

    const urlParams = new URLSearchParams(window.location.search);
    const lang = urlParams.get('lang') || 'python';
    const level = parseInt(urlParams.get('level')) || 1;

    // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯Ø±ÙˆØ³
    const lessons = {
      python: {
        1: {
          title: 'Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©',
          description: 'ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
          content: `
            <p>Ø¯Ø§Ù„Ø© <strong>print()</strong> ØªØ³ØªØ®Ø¯Ù… Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø©.</p>
            <p>Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:</p>
            <div class="code-example">
              <pre>print("Ø±Ø³Ø§Ù„Ø© Ù†ØµÙŠØ©")</pre>
            </div>
            <p><strong>Ø£Ù…Ø«Ù„Ø©:</strong></p>
            <div class="code-example">
              <pre>print("Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ")
print(42)
print(3.14)
print("Ø§Ù„Ø¹Ø¯Ø¯ Ù‡Ùˆ", 10)</pre>
            </div>
            <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ø¨Ø§Ø¹Ø© Ø£Ù†ÙˆØ§Ø¹ Ù…Ø®ØªÙ„ÙØ© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª.</p>
          `,
          challenge: 'Ø§Ø·Ø¨Ø¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: "Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©"',
          expectedOutput: 'Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©'
        },
        2: {
          title: 'Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª',
          description: 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
          content: `
            <p>Ø§Ù„Ù…ØªØºÙŠØ± Ù‡Ùˆ ØµÙ†Ø¯ÙˆÙ‚ ÙŠØ®Ø²Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØºÙŠØ± Ø¨Ø³Ù‡ÙˆÙ„Ø©:</p>
            <div class="code-example">
              <pre>x = 10
name = "Ù…Ø­Ù…Ø¯"
price = 29.99</pre>
            </div>
            <p><strong>Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</strong></p>
            <ul style="color: #666; margin: 15px 0;">
              <li><strong>int:</strong> Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµØ­ÙŠØ­Ø© (10, -5, 0)</li>
              <li><strong>float:</strong> Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø´Ø±ÙŠØ© (3.14, -2.5)</li>
              <li><strong>str:</strong> Ø§Ù„Ù†ØµÙˆØµ ("Ù…Ø±Ø­Ø¨Ø§")</li>
              <li><strong>bool:</strong> Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ© (True, False)</li>
            </ul>
            <div class="code-example">
              <pre>x = 5
y = 3
print(x + y)  # Ø³ÙŠØ·Ø¨Ø¹ 8</pre>
            </div>
          `,
          challenge: 'Ø£Ù†Ø´Ø¦ Ù…ØªØºÙŠØ± Ø¨Ø§Ø³Ù… age ÙˆÙ‚ÙŠÙ…ØªÙ‡ 20ØŒ Ø«Ù… Ø§Ø·Ø¨Ø¹Ù‡',
          expectedOutput: '20'
        }
      },
      javascript: {
        1: {
          title: 'Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©',
          description: 'ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
          content: `
            <p>Ù„Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ JavaScript Ù†Ø³ØªØ®Ø¯Ù… <strong>console.log()</strong>:</p>
            <div class="code-example">
              <pre>console.log("Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ");</pre>
            </div>
            <p><strong>Ø£Ù…Ø«Ù„Ø©:</strong></p>
            <div class="code-example">
              <pre>console.log("Hello");
console.log(42);
console.log(3.14);
console.log("Ø§Ù„Ø¹Ø¯Ø¯ Ù‡Ùˆ", 10);</pre>
            </div>
            <p>Ù„Ø§Ø­Ø¸ Ø£Ù† ÙƒÙ„ Ø³Ø·Ø± ÙŠÙ†ØªÙ‡ÙŠ Ø¨ÙØ§ØµÙ„Ø© Ù…Ù†Ù‚ÙˆØ·Ø© (;)</p>
          `,
          challenge: 'Ø§Ø·Ø¨Ø¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: "Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©"',
          expectedOutput: 'Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©'
        },
        2: {
          title: 'Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª',
          description: 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª',
          content: `
            <p>ÙÙŠ JavaScript Ù†Ø³ØªØ®Ø¯Ù… <strong>let</strong> Ø£Ùˆ <strong>const</strong> Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…ØªØºÙŠØ±Ø§Øª:</p>
            <div class="code-example">
              <pre>let x = 10;
const name = "Ù…Ø­Ù…Ø¯";
let price = 29.99;</pre>
            </div>
            <p><strong>Ø§Ù„ÙØ±Ù‚:</strong></p>
            <ul style="color: #666; margin: 15px 0;">
              <li><strong>let:</strong> ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ù‚ÙŠÙ…ØªÙ‡Ø§</li>
              <li><strong>const:</strong> Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ù‚ÙŠÙ…ØªÙ‡Ø§ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¹Ø±ÙŠÙ</li>
            </ul>
            <div class="code-example">
              <pre>let x = 5;
let y = 3;
console.log(x + y);  // 8</pre>
            </div>
          `,
          challenge: 'Ø£Ù†Ø´Ø¦ Ù…ØªØºÙŠØ± age Ø¨Ù‚ÙŠÙ…Ø© 20 ÙˆØ§Ø·Ø¨Ø¹Ù‡',
          expectedOutput: '20'
        }
      },
      java: {
        1: {
          title: 'Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©',
          description: 'ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
          content: `
            <p>ÙÙŠ Java Ù†Ø³ØªØ®Ø¯Ù… <strong>System.out.println()</strong>:</p>
            <div class="code-example">
              <pre>System.out.println("Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ");</pre>
            </div>
            <p><strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ù„ÙƒÙˆØ¯ Ø¥Ø¶Ø§ÙÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙØ¹Ù„ÙŠ ÙÙŠ IDE.</p>
            <p>Ù„Ù„ØªØ¨Ø³ÙŠØ·ØŒ Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ù€ print statement:</p>
            <div class="code-example">
              <pre>System.out.println("Hello");
System.out.println(42);
System.out.println("Ø§Ù„Ø¹Ø¯Ø¯ Ù‡Ùˆ " + 10);</pre>
            </div>
          `,
          challenge: 'Ø§Ø·Ø¨Ø¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: "Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©"',
          expectedOutput: 'Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©'
        },
        2: {
          title: 'Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª',
          description: 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ£Ù†ÙˆØ§Ø¹Ù‡Ø§',
          content: `
            <p>ÙÙŠ Java ØªØ­ØªØ§Ø¬ Ù„ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</p>
            <div class="code-example">
              <pre>int x = 10;
String name = "Ù…Ø­Ù…Ø¯";
double price = 29.99;</pre>
            </div>
            <p><strong>Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:</strong></p>
            <ul style="color: #666; margin: 15px 0;">
              <li><strong>int:</strong> Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµØ­ÙŠØ­Ø©</li>
              <li><strong>double:</strong> Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø´Ø±ÙŠØ©</li>
              <li><strong>String:</strong> Ø§Ù„Ù†ØµÙˆØµ</li>
              <li><strong>boolean:</strong> Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©</li>
            </ul>
          `,
          challenge: 'Ø£Ù†Ø´Ø¦ Ù…ØªØºÙŠØ± int Ø¨Ø§Ø³Ù… age Ø¨Ù‚ÙŠÙ…Ø© 20 ÙˆØ§Ø·Ø¨Ø¹Ù‡',
          expectedOutput: '20'
        }
      },
      cpp: {
        1: {
          title: 'Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©',
          description: 'ØªØ¹Ù„Ù… ÙƒÙŠÙÙŠØ© Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
          content: `
            <p>ÙÙŠ C++ Ù†Ø³ØªØ®Ø¯Ù… <strong>cout</strong>:</p>
            <div class="code-example">
              <pre>#include &lt;iostream&gt;
using namespace std;
cout &lt;&lt; "Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ";</pre>
            </div>
            <p><strong>Ø£Ù…Ø«Ù„Ø©:</strong></p>
            <div class="code-example">
              <pre>cout &lt;&lt; "Hello" &lt;&lt; endl;
cout &lt;&lt; 42;
cout &lt;&lt; "Ø§Ù„Ø¹Ø¯Ø¯ Ù‡Ùˆ " &lt;&lt; 10;</pre>
            </div>
          `,
          challenge: 'Ø§Ø·Ø¨Ø¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©: "Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©"',
          expectedOutput: 'Ø£Ù†Ø§ Ø£ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©'
        },
        2: {
          title: 'Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª',
          description: 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª',
          content: `
            <p>ÙÙŠ C++ ØªØ­ØªØ§Ø¬ Ù„ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</p>
            <div class="code-example">
              <pre>int x = 10;
string name = "Ù…Ø­Ù…Ø¯";
double price = 29.99;</pre>
            </div>
          `,
          challenge: 'Ø£Ù†Ø´Ø¦ Ù…ØªØºÙŠØ± int Ø¨Ø§Ø³Ù… age Ø¨Ù‚ÙŠÙ…Ø© 20 ÙˆØ§Ø·Ø¨Ø¹Ù‡',
          expectedOutput: '20'
        }
      }
    };

    function loadLesson() {
      const lessonData = lessons[lang]?.[level];
      if (!lessonData) {
        document.querySelector('.info-section').innerHTML = '<p style="color: red;">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø³</p>';
        loadingOverlay.classList.add('hidden');
        return;
      }

      document.getElementById('lessonTitle').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}`;
      document.getElementById('lessonName').textContent = lessonData.title;
      document.getElementById('lessonContent').innerHTML = lessonData.content;
      document.getElementById('challengeDesc').textContent = lessonData.challenge;

      // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ­Ù‚Ù‚ Ù„Ø§Ø­Ù‚Ø§Ù‹
      window.expectedOutput = lessonData.expectedOutput;

      loadingOverlay.classList.add('hidden');
    }

    function runCode() {
      const code = codeEditor.value;
      if (!code.trim()) {
        outputSection.textContent = 'ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹';
        return;
      }

      outputSection.textContent = '';
      resultMessage.className = 'result-message';
      resultMessage.textContent = '';

      try {
        // Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª
        const logs = [];
        const originalLog = console.log;
        console.log = (...args) => {
          logs.push(args.map(arg => String(arg)).join(' '));
        };
          if (lang === 'python') {
            // ØªØ­ÙˆÙŠÙ„ print ÙÙŠ Ø¨Ø§ÙŠØ«ÙˆÙ† Ø¥Ù„Ù‰ console.log
            const transformedCode = code
            .replace(/print\s*\(/g, 'console.log(');
          
            eval(transformedCode);

          } else if (lang === 'javascript') {
                console.log('ØªØ´ØºÙŠÙ„ ÙƒÙˆØ¯ Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª:\n', code);
               eval(code);
          } else {
             outputSection.textContent = 'Ø§Ù„ØªØ´ØºÙŠÙ„ Ù…Ø­Ø§ÙƒÙ‰ - ÙŠØ¹Ù…Ù„ ÙÙ‚Ø· Ù…Ø¹ Python Ùˆ JavaScript';
      }



        console.log = originalLog;

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª
        if (logs.length > 0) {
          outputSection.textContent = logs.join('\n');
        } else {
          outputSection.textContent = 'Ù„Ù… ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ø£ÙŠ Ù…Ø®Ø±Ø¬Ø§Øª';
        }
      } catch (error) {
        outputSection.textContent = `âŒ Ø®Ø·Ø£: ${error.message}`;
        resultMessage.className = 'result-message error';
        resultMessage.textContent = 'âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯';
      }
    }

    function checkSolution() {
      const code = codeEditor.value;
      if (!code.trim()) {
        resultMessage.className = 'result-message error';
        resultMessage.textContent = 'ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹';
        return;
      }

      // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹
      runCode();

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª
      const actualOutput = outputSection.textContent.trim();
      const expectedOutput = window.expectedOutput.trim();

      setTimeout(() => {
        if (actualOutput.includes(expectedOutput)) {
          resultMessage.className = 'result-message success';
          resultMessage.textContent = 'ğŸ‰ Ù…Ù…ØªØ§Ø²! Ø§Ù„Ø­Ù„ ØµØ­ÙŠØ­!';
        } else {
          resultMessage.className = 'result-message error';
          resultMessage.textContent = `âŒ Ø§Ù„Ø­Ù„ ØºÙŠØ± ØµØ­ÙŠØ­\nØ§Ù„Ù…ØªÙˆÙ‚Ø¹: "${expectedOutput}"\nØ§Ù„ÙØ¹Ù„ÙŠ: "${actualOutput}"`;
        }
      }, 100);
    }

    function resetCode() {
      codeEditor.value = '';
      outputSection.textContent = '';
      resultMessage.className = 'result-message';
      resultMessage.textContent = '';
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø±Ø³ Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„
    loadLesson();
  </script>
</body>
</html>
