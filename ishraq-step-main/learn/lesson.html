<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ù„Ø¯Ø±Ø³ - Ishraq Step</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

  <style>
    /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© --- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 30px 20px;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    .back-btn {
      display: inline-flex; align-items: center; background: rgba(255, 255, 255, 0.2);
      color: white; padding: 10px 20px; border-radius: 8px; text-decoration: none;
      margin-bottom: 20px; cursor: pointer; border: none; font-weight: 600;
    }
    .lesson-wrapper { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-items: start; }
    .info-section, .editor-section {
      background: white; border-radius: 15px; padding: 30px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    /* --- 1. ØªÙ†Ø³ÙŠÙ‚ Ø¹Ø§Ø±Ø¶Ø© Ø§Ù„Ø´Ø±Ø­ Ø§Ù„Ø«Ø§Ø¨ØªØ© (Code Viewer) --- */
    .code-viewer {
      background: #1e1e1e; border-radius: 8px; margin: 20px 0;
      overflow: hidden; border: 1px solid #333; direction: ltr; text-align: left;
    }
    .code-header {
      background: #323233; padding: 8px 15px; display: flex;
      justify-content: space-between; color: #858585; font-size: 12px; font-family: sans-serif;
    }
    .code-viewer pre { margin: 0; padding: 15px; overflow-x: auto; }
    .code-viewer code { font-family: 'Consolas', 'Monaco', monospace; font-size: 14px; }

    /* --- 2. ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ø­Ø±Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ (Ø§Ù„Ù…Ø·ÙˆØ± Ù„Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø²Ø§Ø­Ø©) --- */
    .editor-container {
      position: relative; width: 100%; height: 300px;
      background: #2d2d2d; border-radius: 8px; overflow: hidden;
      border: 2px solid #ddd; margin-bottom: 15px; direction: ltr; text-align: left;
    }

    /* ÙƒÙ„Ø§Ø³ Ù…ÙˆØ­Ø¯ Ù„Ø·Ø¨Ù‚ØªÙŠÙ† (textarea Ùˆ pre) Ù„Ø¶Ù…Ø§Ù† ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£Ø¨Ø¹Ø§Ø¯ 100% */
    .editor-layer {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      padding: 20px !important; margin: 0 !important; border: none !important;
      
      /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø· Ø§Ù„Ø­Ø§Ø³Ù…Ø© Ù„Ù„Ù…Ø­Ø§Ø°Ø§Ø© */
      font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
      font-size: 15px;
      line-height: 1.6;
      letter-spacing: 0px;
      
      white-space: pre; 
      overflow: auto; 
      box-sizing: border-box;
    }

    /* Ø·Ø¨Ù‚Ø© Ø§Ù„ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© */
    #highlightingArea {
      z-index: 1;
      color: #f8f8f2;
      background-color: transparent;
      pointer-events: none; /* ØªØ¬Ø¹Ù„ Ø§Ù„Ø·Ø¨Ù‚Ø© Ù„Ø§ ØªØ¹ÙŠÙ‚ Ø§Ù„Ù†Ù‚Ø± */
    }

    /* Ø·Ø¨Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© (Ø§Ù„ØªÙŠ ÙŠØªÙØ§Ø¹Ù„ Ù…Ø¹Ù‡Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…) */
    #codeEditor {
      z-index: 2;
      background: transparent;
      color: transparent; /* Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙƒØªÙˆØ¨ Ø´ÙØ§Ù Ù„Ø£Ù†Ù†Ø§ Ù†Ø±Ù‰ Ø§Ù„Ù…Ù„ÙˆÙ† Ù…Ù† Ø§Ù„Ø®Ù„Ù */
      caret-color: white; /* ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø© */
      resize: none;
      outline: none;
    }

    /* ØªØ­Ø³ÙŠÙ† Ø´ÙƒÙ„ Ø§Ù„ØªØ¸Ù„ÙŠÙ„ (Selection) Ù„Ù…Ù†Ø¹ ØªØ¯Ø§Ø®Ù„ Ø§Ù„Ù†ØµÙˆØµ */
    #codeEditor::selection {
      background: rgba(102, 126, 234, 0.4); /* Ù„ÙˆÙ† ØªØ¸Ù„ÙŠÙ„ Ø£Ø²Ø±Ù‚ Ø´ÙØ§Ù */
      color: transparent;
    }

    /* Ø¥Ù„ØºØ§Ø¡ Ø£ÙŠ ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¯Ø§Ø®Ù„ Ø·Ø¨Ù‚Ø© Ø§Ù„ØªÙ„ÙˆÙŠÙ† */
    #highlightingCode {
      font-family: inherit !important;
      font-size: inherit !important;
      padding: 0 !important;
    }

    /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ù…Ø®Ø±Ø¬Ø§Øª --- */
    .button-group { display: flex; gap: 10px; flex-wrap: wrap; }
    .btn { padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: 700; color: white; flex: 1; transition: 0.3s; font-family: 'Cairo'; }
    .btn-run { background: #667eea; } 
    .btn-check { background: #4caf50; } 
    .btn-reset { background: #f44336; }
    
    .output-section { 
      background: #2d2d2d; border: 2px solid #667eea; border-radius: 8px; 
      padding: 15px; color: #f8f8f2; min-height: 100px; margin-top: 15px; 
      white-space: pre-wrap; direction: ltr; font-family: 'Consolas', monospace; 
    }
    
    .result-message { padding: 15px; border-radius: 8px; margin-top: 15px; display: none; text-align: center; color: white; font-weight: bold; }
    .result-message.success { background: #4caf50; }
    .result-message.error { background: #f44336; }
    
    /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
    .loading-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 999; flex-direction: column; gap: 20px; }
    .loading-overlay.hidden { display: none; }
    .spinner { width: 60px; height: 60px; border: 4px solid rgba(255,255,255,0.2); border-top-color: #fff; border-radius: 50%; animation: spin 0.8s linear infinite; }
    
    @keyframes spin { to { transform: rotate(360deg); } }
    @media (max-width: 1024px) { .lesson-wrapper { grid-template-columns: 1fr; } }
 </style>

</head>
<body>

  <div id="loadingOverlay" class="loading-overlay">
    <div class="spinner"></div>
    <div style="color:white">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¶ÙŠØ±...</div>
  </div>

  <div class="container">
    <button class="back-btn" onclick="history.back()">â† Ø±Ø¬ÙˆØ¹</button>

    <div class="lesson-wrapper">
      
      <div class="info-section">
        <div class="lesson-title" id="lessonTitle">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</div>
        <h1 id="lessonName">Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©</h1>
        
        <div id="lessonContent" style="color:#666; line-height:1.8; margin-bottom:20px;"></div>

        <div class="code-viewer">
          <div class="code-header">
            <span id="langLabel">PYTHON</span>
            <span>Ù…Ø«Ø§Ù„</span>
          </div>
          <pre><code id="exampleCode" class="language-python"># Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…Ø«Ø§Ù„ Ù‡Ù†Ø§</code></pre>
        </div>
      </div>

      <div class="editor-section">
        <h2>ğŸ¯ ØªØ­Ø¯ÙŠÙƒ</h2>
        <div id="challengeDesc" style="background:#f5f5f5; padding:15px; border-right:4px solid #667eea; margin-bottom:20px;"></div>
        
        <div class="editor-container">
           <pre id="highlightingArea" class="editor-layer"><code id="highlightingCode"></code></pre>
  
           <textarea id="codeEditor" class="editor-layer" 
             spellcheck="false" 
             placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§..." 
             oninput="updateHighlighting(); syncScroll();" 
             onscroll="syncScroll();"></textarea>
         </div>

        <div class="button-group">
          <button class="btn btn-run" onclick="runCode()">â–¶ ØªØ´ØºÙŠÙ„</button>
          <button class="btn btn-check" onclick="checkSolution()">âœ“ ØªØ­Ù‚Ù‚</button>
          <button class="btn btn-reset" onclick="resetCode()">â†» Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
        </div>
        
        <div id="outputSection" class="output-section"></div>
        <div id="resultMessage" class="result-message"></div>
      </div>
    </div>
  </div>

  <script type="module">
    import { python } from './js/python.js';
    import { javascript } from './js/javascript.js';
    import { java } from './js/java.js';
    import { cpp } from './js/cpp.js';

    // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ù„ØºØ§Øª ÙÙŠ ÙƒØ§Ø¦Ù† ÙˆØ§Ø­Ø¯
    const lessons = { python, javascript, java, cpp };
    
    // Ø¬Ø¹Ù„ Ø§Ù„Ù…ØªØºÙŠØ± Ø¹Ø§Ù…Ø§Ù‹ Ù„ÙƒÙŠ ÙŠØ±Ø§Ù‡ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„
    window.lessons = lessons; 
    
    // ØªØ´ØºÙŠÙ„ Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¨Ø¹Ø¯ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    if(window.initLesson) window.initLesson();
  </script>

  <script>
    // Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø©
    let lang = 'python';
    let level = 1;

    // Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø© (ÙŠØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)
    window.initLesson = function() {
        const urlParams = new URLSearchParams(window.location.search);
        let rawLang = (urlParams.get('lang') || 'python').toLowerCase();
        
        // ØªÙˆØ­ÙŠØ¯ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡
        lang = rawLang;
        if (lang === 'c++') lang = 'cpp';
        if (lang === 'js') lang = 'javascript';
        if (lang === 'py') lang = 'python';

        level = parseInt(urlParams.get('level')) || 1; 

        // ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… Ø§Ù„Ù„ØºØ© ÙÙŠ Ø§Ù„Ø¹Ø§Ø±Ø¶Ø©
        document.getElementById('langLabel').textContent = lang.toUpperCase();

        loadLessonData();
    };

    function loadLessonData() {
      const loadingOverlay = document.getElementById('loadingOverlay');
      
      // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
      if (!window.lessons || !window.lessons[lang]) {
         // Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø³ÙŠØ· ÙÙŠ Ø­Ø§Ù„ ØªØ£Ø®Ø± Ø§Ù„Ù…ÙˆØ¯ÙŠÙˆÙ„
         setTimeout(loadLessonData, 100); 
         return;
      }

      const lessonData = window.lessons[lang][level];
      
      if (!lessonData) {
        document.querySelector('.info-section').innerHTML = '<p style="color: red;">Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø³</p>';
        loadingOverlay.classList.add('hidden');
        return;
      }

      // 1. ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù†ØµÙˆØµ
      document.getElementById('lessonTitle').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}`;
      document.getElementById('lessonName').textContent = lessonData.title;
      document.getElementById('challengeDesc').textContent = lessonData.challenge;

      // 2. ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø´Ø±Ø­ (Ù†Ø³ØªØ®Ø±Ø¬ Ø§Ù„Ù†Øµ ÙÙ‚Ø· Ù„Ù„Ø¹Ø§Ø±Ø¶Ø©ØŒ ÙˆÙ†Ø¨Ù‚ÙŠ HTML Ù„Ù„Ø´Ø±Ø­)
      // Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ØŒ Ø³Ù†Ø­Ø§ÙˆÙ„ Ø¹Ø±Ø¶Ù‡ ÙÙŠ Ø§Ù„Ø¹Ø§Ø±Ø¶Ø©
      document.getElementById('lessonContent').innerHTML = lessonData.description || "Ø´Ø±Ø­ Ø§Ù„Ø¯Ø±Ø³..."; 

      // 3. ØªØ¹Ø¨Ø¦Ø© "Ø¹Ø§Ø±Ø¶Ø© Ø§Ù„Ø´Ø±Ø­" (Code Viewer)
      const exampleEl = document.getElementById('exampleCode');
      // Ù†Ø­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø±Ø§Ø¬ ÙƒÙˆØ¯ Ù†Ø¸ÙŠÙ Ù…Ù† content Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ example ØµØ±ÙŠØ­
      let cleanCode = "";
      if (lessonData.content) {
          // Ø®Ø¯Ø¹Ø© Ø¨Ø³ÙŠØ·Ø© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù†Øµ Ù…Ù† Ø§Ù„Ù€ HTML Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ
          let temp = document.createElement('div');
          temp.innerHTML = lessonData.content;
          cleanCode = temp.textContent; 
      }
      exampleEl.textContent = cleanCode.trim();
      exampleEl.className = `language-${lang}`;
      hljs.highlightElement(exampleEl);

      // 4. ØªØ¹Ø¨Ø¦Ø© "Ø§Ù„Ù…Ø­Ø±Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ"
      window.expectedOutput = lessonData.expectedOutput; // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø­Ù„ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
      
      // ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ù‚ØªØ±Ø­
      const samples = {
        python: `print("Hello World")`,
        javascript: `console.log("Hello World");`,
        java: `public class Main {\n  public static void main(String[] args) {\n    System.out.println("Hello");\n  }\n}`,
        cpp: `#include <iostream>\nusing namespace std;\nint main() {\n  cout << "Hello" << endl;\n  return 0;\n}`
      };
      
      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ startCode ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ø³ØªØ®Ø¯Ù…Ù‡ØŒ ÙˆØ¥Ù„Ø§ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
      const initialCode = lessonData.startCode || samples[lang] || "";
      document.getElementById('codeEditor').value = initialCode;
      
      // ØªØ­Ø¯ÙŠØ« ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ù…Ø­Ø±Ø± ÙÙˆØ±Ø§Ù‹
      updateHighlighting();

      loadingOverlay.classList.add('hidden');
    }

    // --- Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø­Ø±Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ (Ø§Ù„ØªÙ„ÙˆÙŠÙ† ÙˆØ§Ù„ØªÙ…Ø±ÙŠØ±) ---
    function updateHighlighting() {
      let code = document.getElementById('codeEditor').value;
      let highlightingCode = document.getElementById('highlightingCode');
      
      // Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§ÙØ© ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ù„Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯
      if(code[code.length-1] == "\n") {
        code += " "; 
      }
      
      highlightingCode.textContent = code;
      highlightingCode.className = `language-${lang}`;
      hljs.highlightElement(highlightingCode);
    }

    function syncScroll() {
      let editor = document.getElementById('codeEditor');
      let highlight = document.getElementById('highlightingArea');
      highlight.scrollTop = editor.scrollTop;
      highlight.scrollLeft = editor.scrollLeft;
    }

    // --- Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ´ØºÙŠÙ„ (Ù…Ù† ÙƒÙˆØ¯Ùƒ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù…Ø¹ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¨Ø³ÙŠØ·Ø©) ---
    async function runCode() {
        const code = document.getElementById('codeEditor').value;
        const outputSection = document.getElementById('outputSection');
        const resultMessage = document.getElementById('resultMessage');

        const langMapping = {
            'python': { language: 'python', version: '3.10.0' },
            'javascript': { language: 'javascript', version: '18.15.0' },
            'java': { language: 'java', version: '15.0.2' },
            'cpp': { language: 'c++', version: '10.2.0' }
        };

        if (!code.trim()) {
            outputSection.textContent = 'ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹';
            return null;
        }

        outputSection.textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„...';
        resultMessage.style.display = 'none';
        
        try {
            const response = await fetch('https://emkc.org/api/v2/piston/execute', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    "language": langMapping[lang].language,
                    "version": langMapping[lang].version,
                    "files": [{ "content": code }]
                })
            });

            const result = await response.json();
            
            if (result.run.stderr) {
                outputSection.textContent = `âŒ Ø®Ø·Ø£ Ø¨Ø±Ù…Ø¬ÙŠ:\n${result.run.stderr}`;
                return result.run.stderr; 
            } else {
                const stdout = result.run.stdout || '';
                outputSection.textContent = stdout || 'ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ° Ø¨Ù†Ø¬Ø§Ø­ (Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø®Ø±Ø¬Ø§Øª)';
                return stdout; 
            }

        } catch (error) {
            outputSection.textContent = `âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…Ø­Ø±Ùƒ: ${error.message}`;
            return null;
        }
    }

    async function checkSolution() {
        const actualOutput = await runCode();
        if (actualOutput === null) return;

        const expectedOutput = (window.expectedOutput || "").trim();
        const trimmedActual = actualOutput.trim();
        const resultMessage = document.getElementById('resultMessage');

        if (trimmedActual == expectedOutput) {
            resultMessage.className = 'result-message success';
            resultMessage.textContent = 'ğŸ‰ Ù…Ù…ØªØ§Ø²! Ø§Ù„Ø­Ù„ ØµØ­ÙŠØ­!';
        } else {
            resultMessage.className = 'result-message error';
            resultMessage.textContent = `âŒ Ø§Ù„Ø­Ù„ ØºÙŠØ± ØµØ­ÙŠØ­\nØ§Ù„Ù…ØªÙˆÙ‚Ø¹: "${expectedOutput}"\nØ§Ù„ÙØ¹Ù„ÙŠ: "${trimmedActual}"`;
        }
        resultMessage.style.display = 'block';
    }

    function resetCode() {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¯Ø±Ø³ Ù„ÙŠØ¹ÙˆØ¯ ÙƒÙ„ Ø´ÙŠØ¡ ÙƒÙ…Ø§ ÙƒØ§Ù†
        loadLessonData();
        document.getElementById('outputSection').textContent = "";
        document.getElementById('resultMessage').style.display = "none";
    }

    // Ù…Ù†Ø¹ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© (Ù…Ù† ÙƒÙˆØ¯Ùƒ Ø§Ù„Ù‚Ø¯ÙŠÙ…)
    document.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && (e.key === 'p' || e.key === 'P')) {
        e.preventDefault(); return false;
      }
    }, true);

    // Ø¥Ø°Ø§ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±Ø¨Øª Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¯ÙŠÙˆÙ„ØŒ Ø³ÙŠØªÙ… Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
    // Ø¯Ø§Ù„Ø© initLesson Ø³ØªØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù…ÙˆØ¯ÙŠÙˆÙ„
  </script>

</body>
</html>